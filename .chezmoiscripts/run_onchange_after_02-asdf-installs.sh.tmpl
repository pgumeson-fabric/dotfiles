#! /usr/bin/env zsh

{{ template "printers.zsh" }}

_print_running_script "$0"

set +euo pipefail

## .tool-versions: {{ include "dot_tool-versions" | sha256sum }}

if [ -x "{{ .homebrew_prefix }}/bin/brew" ]; then
  eval "$({{ .homebrew_prefix }}/bin/brew shellenv)"
fi

if [ -f "$HOME/.tool-versions" ]; then
  if [ -f "{{ .homebrew_prefix }}/opt/asdf/libexec/asdf.sh" ]; then
    source {{ .homebrew_prefix }}/opt/asdf/libexec/asdf.sh

    {{ template "asdf_install.zsh" dict "dir" "$HOME" }}
  fi
fi
